<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1352px" preserveAspectRatio="none" style="width:1642px;height:1352px;background:#FFFFFF;" version="1.1" viewBox="0 0 1642 1352" width="1642px" zoomAndPan="magnify"><defs/><g><!--MD5=[6669928f3067a619cffd39cae9441b58]
cluster Cmder--><g id="cluster_Cmder"><path d="M456.5,6 L509.5,6 A3.75,3.75 0 0 1 512,8.5 L519,28.2969 L855.5,28.2969 A2.5,2.5 0 0 1 858,30.7969 L858,285.5 A2.5,2.5 0 0 1 855.5,288 L456.5,288 A2.5,2.5 0 0 1 454,285.5 L454,8.5 A2.5,2.5 0 0 1 456.5,6 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="454" x2="519" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="52" x="458" y="20.9951">Cmder</text></g><!--MD5=[e902e7dcfcb16454252f8a4b8b16b082]
cluster Cmder.Testing--><g id="cluster_Cmder.Testing"><path d="M480.5,50 L540.5,50 A3.75,3.75 0 0 1 543,52.5 L550,72.2969 L831.5,72.2969 A2.5,2.5 0 0 1 834,74.7969 L834,261.5 A2.5,2.5 0 0 1 831.5,264 L480.5,264 A2.5,2.5 0 0 1 478,261.5 L478,52.5 A2.5,2.5 0 0 1 480.5,50 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="478" x2="550" y1="72.2969" y2="72.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="59" x="482" y="64.9951">Testing</text></g><!--MD5=[b101834b75e1f62a3cf6dd626de36055]
class Cmder.Testing.AgentTest--><g id="elem_Cmder.Testing.AgentTest"><rect codeLine="113" fill="#F1F1F1" height="162.0781" id="Cmder.Testing.AgentTest" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="324" x="494" y="86"/><ellipse cx="615.75" cy="102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M618.7188,107.6406 Q618.1406,107.9375 617.5,108.0781 Q616.8594,108.2344 616.1563,108.2344 Q613.6563,108.2344 612.3281,106.5938 Q611.0156,104.9375 611.0156,101.8125 Q611.0156,98.6875 612.3281,97.0313 Q613.6563,95.375 616.1563,95.375 Q616.8594,95.375 617.5,95.5313 Q618.1563,95.6875 618.7188,95.9844 L618.7188,98.7031 Q618.0938,98.125 617.5,97.8594 Q616.9063,97.5781 616.2813,97.5781 Q614.9375,97.5781 614.25,98.6563 Q613.5625,99.7188 613.5625,101.8125 Q613.5625,103.9063 614.25,104.9844 Q614.9375,106.0469 616.2813,106.0469 Q616.9063,106.0469 617.5,105.7813 Q618.0938,105.5 618.7188,104.9219 L618.7188,107.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="636.25" y="106.8467">AgentTest</text><line style="stroke:#181818;stroke-width:0.5;" x1="495" x2="817" y1="118" y2="118"/><polygon fill="none" points="505,126.6484,509,130.6484,505,134.6484,501,130.6484" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="263" x="514" y="134.9951">sAsyncAgent : static Agent::SharedPtr</text><polygon fill="none" points="505,142.9453,509,146.9453,505,150.9453,501,146.9453" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="298" x="514" y="151.292">sNoCallbackAgent : static Agent::SharedPtr</text><polygon fill="none" points="505,159.2422,509,163.2422,505,167.2422,501,163.2422" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="254" x="514" y="167.5889">sCallback : static Callback::SharedPtr</text><polygon fill="none" points="505,175.5391,509,179.5391,505,183.5391,501,179.5391" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="150" x="514" y="183.8857">sServer : static Server</text><line style="stroke:#181818;stroke-width:0.5;" x1="495" x2="817" y1="191.1875" y2="191.1875"/><polygon fill="#FFFF44" points="505,199.8359,509,203.8359,505,207.8359,501,203.8359" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="514" y="208.1826">SetUp() : void</text><polygon fill="#FFFF44" points="505,216.1328,509,220.1328,505,224.1328,501,220.1328" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="159" x="514" y="224.4795">SetUpTestSuite() : void</text><polygon fill="#FFFF44" points="505,232.4297,509,236.4297,505,240.4297,501,236.4297" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="188" x="514" y="240.7764">TearDownTestSuite() : void</text></g><!--MD5=[9d44916250b776386006c440668bcfbb]
class Agent--><g id="elem_Agent"><rect codeLine="8" fill="#F1F1F1" height="145.7813" id="Agent" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="568" x="372" y="308"/><ellipse cx="631.25" cy="324" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M634.2188,329.6406 Q633.6406,329.9375 633,330.0781 Q632.3594,330.2344 631.6563,330.2344 Q629.1563,330.2344 627.8281,328.5938 Q626.5156,326.9375 626.5156,323.8125 Q626.5156,320.6875 627.8281,319.0313 Q629.1563,317.375 631.6563,317.375 Q632.3594,317.375 633,317.5313 Q633.6563,317.6875 634.2188,317.9844 L634.2188,320.7031 Q633.5938,320.125 633,319.8594 Q632.4063,319.5781 631.7813,319.5781 Q630.4375,319.5781 629.75,320.6563 Q629.0625,321.7188 629.0625,323.8125 Q629.0625,325.9063 629.75,326.9844 Q630.4375,328.0469 631.7813,328.0469 Q632.4063,328.0469 633,327.7813 Q633.5938,327.5 634.2188,326.9219 L634.2188,329.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="651.75" y="328.8467">Agent</text><line style="stroke:#181818;stroke-width:0.5;" x1="373" x2="939" y1="340" y2="340"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="380" y="350.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="218" x="392" y="356.9951">mCallback : Callback::SharedPtr</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="380" y="366.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="392" y="373.292">mServer : const Server&amp;</text><line style="stroke:#181818;stroke-width:0.5;" x1="373" x2="939" y1="380.5938" y2="380.5938"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="380" y="391.2422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="399" x="392" y="397.5889">Agent(const Server&amp; server, Callback::SharedPtr callback)</text><ellipse cx="383" cy="410.5391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="392" y="413.8857">~Agent()</text><ellipse cx="383" cy="426.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="542" x="392" y="430.1826">doTask(Receipt::Mode mode, Task task, std::string&amp; result) : Receipt {query}</text><ellipse cx="383" cy="443.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="483" x="392" y="446.4795">create(const Server&amp; server, Callback::SharedPtr callback) : SharedPtr</text></g><!--MD5=[687e0e93109a4e3b835e34cee365dc7c]
class Callback--><g id="elem_Callback"><rect codeLine="18" fill="#F1F1F1" height="162.0781" id="Callback" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="592" x="23" y="531"/><ellipse cx="286.25" cy="547" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M289.2188,552.6406 Q288.6406,552.9375 288,553.0781 Q287.3594,553.2344 286.6563,553.2344 Q284.1563,553.2344 282.8281,551.5938 Q281.5156,549.9375 281.5156,546.8125 Q281.5156,543.6875 282.8281,542.0313 Q284.1563,540.375 286.6563,540.375 Q287.3594,540.375 288,540.5313 Q288.6563,540.6875 289.2188,540.9844 L289.2188,543.7031 Q288.5938,543.125 288,542.8594 Q287.4063,542.5781 286.7813,542.5781 Q285.4375,542.5781 284.75,543.6563 Q284.0625,544.7188 284.0625,546.8125 Q284.0625,548.9063 284.75,549.9844 Q285.4375,551.0469 286.7813,551.0469 Q287.4063,551.0469 288,550.7813 Q288.5938,550.5 289.2188,549.9219 L289.2188,552.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="306.75" y="551.8467">Callback</text><line style="stroke:#181818;stroke-width:0.5;" x1="24" x2="614" y1="563" y2="563"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="31" y="573.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="303" x="43" y="579.9951">mMessages : std::map&lt;Key_t, Message_t&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="24" x2="614" y1="587.2969" y2="587.2969"/><ellipse cx="34" cy="600.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="43" y="604.292">Callback()</text><ellipse cx="34" cy="617.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="43" y="620.5889">~Callback()</text><ellipse cx="34" cy="633.5391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="566" x="43" y="636.8857">operator&lt;&lt;(std::ostream&amp; ostr, const Callback::SharedPtr&amp; cb) : std :: ostream&amp;</text><ellipse cx="34" cy="649.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="497" x="43" y="653.1826">getFirst(const Receipt&amp; receipt, Type type) : std::optional&lt;Message_t&gt;</text><ellipse cx="34" cy="666.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="43" y="669.4795">clear() : void</text><ellipse cx="34" cy="682.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="456" x="43" y="685.7764">notify(TaskId taskId, Type type, const std::string&amp; message) : void</text></g><!--MD5=[34b75dd4d6d4601c280a5b76e9c1a953]
class Receipt--><g id="elem_Receipt"><rect codeLine="29" fill="#F1F1F1" height="259.8594" id="Receipt" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="398" x="7" y="944"/><ellipse cx="175.25" cy="960" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M178.2188,965.6406 Q177.6406,965.9375 177,966.0781 Q176.3594,966.2344 175.6563,966.2344 Q173.1563,966.2344 171.8281,964.5938 Q170.5156,962.9375 170.5156,959.8125 Q170.5156,956.6875 171.8281,955.0313 Q173.1563,953.375 175.6563,953.375 Q176.3594,953.375 177,953.5313 Q177.6563,953.6875 178.2188,953.9844 L178.2188,956.7031 Q177.5938,956.125 177,955.8594 Q176.4063,955.5781 175.7813,955.5781 Q174.4375,955.5781 173.75,956.6563 Q173.0625,957.7188 173.0625,959.8125 Q173.0625,961.9063 173.75,962.9844 Q174.4375,964.0469 175.7813,964.0469 Q176.4063,964.0469 177,963.7813 Q177.5938,963.5 178.2188,962.9219 L178.2188,965.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="195.75" y="964.8467">Receipt</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="404" y1="976" y2="976"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="986.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="27" y="992.9951">mMode : Mode</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="1002.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="27" y="1009.292">mStatus : Status</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="1019.2422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="367" x="27" y="1025.5889">mEndTime : time_point&lt;std::chrono::system_clock&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="1035.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="372" x="27" y="1041.8857">mStartTime : time_point&lt;std::chrono::system_clock&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="1051.8359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="27" y="1058.1826">mTaskId : uint32_t</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="404" y1="1065.4844" y2="1065.4844"/><ellipse cx="18" cy="1079.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="27" y="1082.4795">Receipt(Mode mode)</text><ellipse cx="18" cy="1095.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="282" x="27" y="1098.7764">getEndTime() : ChronotTime_t&amp; {query}</text><ellipse cx="18" cy="1111.7266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="287" x="27" y="1115.0732">getStartTime() : ChronotTime_t&amp; {query}</text><ellipse cx="18" cy="1128.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="27" y="1131.3701">getTaskId() : TaskId {query}</text><ellipse cx="18" cy="1144.3203" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231" x="27" y="1147.667">getExecutionMode() : int {query}</text><ellipse cx="18" cy="1160.6172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="27" y="1163.9639">getStatus() : int {query}</text><ellipse cx="18" cy="1176.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="27" y="1180.2607">setEndTime() : void</text><ellipse cx="18" cy="1193.2109" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="208" x="27" y="1196.5576">setStatus(Status status) : void</text></g><!--MD5=[c60af77fe5573b84a4aa4bce89659574]
class Server--><g id="elem_Server"><rect codeLine="46" fill="#F1F1F1" height="194.6719" id="Server" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="327" x="815.75" y="514.5"/><ellipse cx="953" cy="530.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M955.9688,536.1406 Q955.3906,536.4375 954.75,536.5781 Q954.1094,536.7344 953.4063,536.7344 Q950.9063,536.7344 949.5781,535.0938 Q948.2656,533.4375 948.2656,530.3125 Q948.2656,527.1875 949.5781,525.5313 Q950.9063,523.875 953.4063,523.875 Q954.1094,523.875 954.75,524.0313 Q955.4063,524.1875 955.9688,524.4844 L955.9688,527.2031 Q955.3438,526.625 954.75,526.3594 Q954.1563,526.0781 953.5313,526.0781 Q952.1875,526.0781 951.5,527.1563 Q950.8125,528.2188 950.8125,530.3125 Q950.8125,532.4063 951.5,533.4844 Q952.1875,534.5469 953.5313,534.5469 Q954.1563,534.5469 954.75,534.2813 Q955.3438,534 955.9688,533.4219 L955.9688,536.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="973.5" y="535.3467">Server</text><line style="stroke:#181818;stroke-width:0.5;" x1="816.75" x2="1141.75" y1="546.5" y2="546.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="823.75" y="557.1484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="835.75" y="563.4951">mStatus : Status</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="823.75" y="573.4453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="301" x="835.75" y="579.792">mConditionVariable : std::condition_variable</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="823.75" y="589.7422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="835.75" y="596.0889">mMutex : std::mutex</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="823.75" y="606.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="301" x="835.75" y="612.3857">mThreadPtr : std::unique_ptr&lt;std::thread&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="816.75" x2="1141.75" y1="619.6875" y2="619.6875"/><ellipse cx="826.75" cy="633.3359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="835.75" y="636.6826">Server()</text><ellipse cx="826.75" cy="649.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="835.75" y="652.9795">~Server()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="823.75" y="662.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="835.75" y="669.2764">run() : void</text><ellipse cx="826.75" cy="682.2266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="835.75" y="685.5732">start() : void</text><ellipse cx="826.75" cy="698.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="835.75" y="701.8701">stop() : void</text></g><!--MD5=[a4d3048a17b209b5d462d32cf4e2a4a3]
class ServerTest--><g id="elem_ServerTest"><rect codeLine="59" fill="#F1F1F1" height="64.2969" id="ServerTest" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="874.75" y="135"/><ellipse cx="895.15" cy="151" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M898.1188,156.6406 Q897.5406,156.9375 896.9,157.0781 Q896.2594,157.2344 895.5563,157.2344 Q893.0563,157.2344 891.7281,155.5938 Q890.4156,153.9375 890.4156,150.8125 Q890.4156,147.6875 891.7281,146.0313 Q893.0563,144.375 895.5563,144.375 Q896.2594,144.375 896.9,144.5313 Q897.5563,144.6875 898.1188,144.9844 L898.1188,147.7031 Q897.4938,147.125 896.9,146.8594 Q896.3063,146.5781 895.6813,146.5781 Q894.3375,146.5781 893.65,147.6563 Q892.9625,148.7188 892.9625,150.8125 Q892.9625,152.9063 893.65,153.9844 Q894.3375,155.0469 895.6813,155.0469 Q896.3063,155.0469 896.9,154.7813 Q897.4938,154.5 898.1188,153.9219 L898.1188,156.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="910.35" y="155.8467">ServerTest</text><line style="stroke:#181818;stroke-width:0.5;" x1="875.75" x2="992.75" y1="167" y2="167"/><line style="stroke:#181818;stroke-width:0.5;" x1="875.75" x2="992.75" y1="175" y2="175"/><polygon fill="#FFFF44" points="885.75,183.6484,889.75,187.6484,885.75,191.6484,881.75,187.6484" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="894.75" y="191.9951">SetUp() : void</text></g><!--MD5=[7d8a7ca443f2d277af98c76a68d2559e]
class Agent::Task--><g id="elem_Agent::Task"><rect codeLine="64" fill="#F1F1F1" height="96.8906" id="Agent::Task" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="650" y="563.5"/><ellipse cx="665" cy="579.5" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M669.1094,585.5 L661.3906,585.5 L661.3906,573.1094 L669.1094,573.1094 L669.1094,575.2656 L663.8438,575.2656 L663.8438,577.9375 L668.6094,577.9375 L668.6094,580.0938 L663.8438,580.0938 L663.8438,583.3438 L669.1094,583.3438 L669.1094,585.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="679" y="584.3467">Agent::Task</text><line style="stroke:#181818;stroke-width:0.5;" x1="651" x2="765" y1="595.5" y2="595.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="656" y="612.4951">BlockMe_3s</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="12" x="656" y="628.792">Pi</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="656" y="645.0889">PingMe_5x</text><line style="stroke:#181818;stroke-width:0.5;" x1="651" x2="765" y1="652.3906" y2="652.3906"/></g><!--MD5=[85b7aeefaadb719f4e60472b44e3a0b8]
class Callback::Type--><g id="elem_Callback::Type"><rect codeLine="71" fill="#F1F1F1" height="80.5938" id="Callback::Type" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133" x="366.75" y="786.5"/><ellipse cx="381.75" cy="802.5" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M385.8594,808.5 L378.1406,808.5 L378.1406,796.1094 L385.8594,796.1094 L385.8594,798.2656 L380.5938,798.2656 L380.5938,800.9375 L385.3594,800.9375 L385.3594,803.0938 L380.5938,803.0938 L380.5938,806.3438 L385.8594,806.3438 L385.8594,808.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="395.75" y="807.3467">Callback::Type</text><line style="stroke:#181818;stroke-width:0.5;" x1="367.75" x2="498.75" y1="818.5" y2="818.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="372.75" y="835.4951">NOTIFICATION</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="372.75" y="851.792">RESULT</text><line style="stroke:#181818;stroke-width:0.5;" x1="367.75" x2="498.75" y1="859.0938" y2="859.0938"/></g><!--MD5=[56d3b85566b7013b7a0d77cf3a9da218]
class Receipt::Mode--><g id="elem_Receipt::Mode"><rect codeLine="77" fill="#F1F1F1" height="80.5938" id="Receipt::Mode" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="53" y="1264.5"/><ellipse cx="68" cy="1280.5" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M72.1094,1286.5 L64.3906,1286.5 L64.3906,1274.1094 L72.1094,1274.1094 L72.1094,1276.2656 L66.8438,1276.2656 L66.8438,1278.9375 L71.6094,1278.9375 L71.6094,1281.0938 L66.8438,1281.0938 L66.8438,1284.3438 L72.1094,1284.3438 L72.1094,1286.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="82" y="1285.3467">Receipt::Mode</text><line style="stroke:#181818;stroke-width:0.5;" x1="54" x2="186" y1="1296.5" y2="1296.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="59" y="1313.4951">Async</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="59" y="1329.792">Blocking</text><line style="stroke:#181818;stroke-width:0.5;" x1="54" x2="186" y1="1337.0938" y2="1337.0938"/></g><!--MD5=[c34f78efd55114cb950f71aaddf20012]
class Receipt::Status--><g id="elem_Receipt::Status"><rect codeLine="83" fill="#F1F1F1" height="80.5938" id="Receipt::Status" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139" x="222.75" y="1264.5"/><ellipse cx="237.75" cy="1280.5" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M241.8594,1286.5 L234.1406,1286.5 L234.1406,1274.1094 L241.8594,1274.1094 L241.8594,1276.2656 L236.5938,1276.2656 L236.5938,1278.9375 L241.3594,1278.9375 L241.3594,1281.0938 L236.5938,1281.0938 L236.5938,1284.3438 L241.8594,1284.3438 L241.8594,1286.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="251.75" y="1285.3467">Receipt::Status</text><line style="stroke:#181818;stroke-width:0.5;" x1="223.75" x2="360.75" y1="1296.5" y2="1296.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="228.75" y="1313.4951">FAIL</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20" x="228.75" y="1329.792">OK</text><line style="stroke:#181818;stroke-width:0.5;" x1="223.75" x2="360.75" y1="1337.0938" y2="1337.0938"/></g><!--MD5=[d9a7c2c8011ee60fa59415266aa6c258]
class Server::Status--><g id="elem_Server::Status"><rect codeLine="89" fill="#F1F1F1" height="113.1875" id="Server::Status" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="914" y="770.5"/><ellipse cx="929" cy="786.5" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M933.1094,792.5 L925.3906,792.5 L925.3906,780.1094 L933.1094,780.1094 L933.1094,782.2656 L927.8438,782.2656 L927.8438,784.9375 L932.6094,784.9375 L932.6094,787.0938 L927.8438,787.0938 L927.8438,790.3438 L933.1094,790.3438 L933.1094,792.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="943" y="791.3467">Server::Status</text><line style="stroke:#181818;stroke-width:0.5;" x1="915" x2="1043" y1="802.5" y2="802.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20" x="920" y="819.4951">Init</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="920" y="835.792">Run</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="920" y="852.0889">Start</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="920" y="868.3857">Stop</text><line style="stroke:#181818;stroke-width:0.5;" x1="915" x2="1043" y1="875.6875" y2="875.6875"/></g><!--MD5=[caac18772e54bee9b64ca90683596fb8]
class Callback::Message_t--><g id="elem_Callback::Message_t"><rect codeLine="97" fill="#F1F1F1" height="80.5938" id="Callback::Message_t" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="251" x="80.75" y="786.5"/><ellipse cx="131" cy="802.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M133.9688,808.1406 Q133.3906,808.4375 132.75,808.5781 Q132.1094,808.7344 131.4063,808.7344 Q128.9063,808.7344 127.5781,807.0938 Q126.2656,805.4375 126.2656,802.3125 Q126.2656,799.1875 127.5781,797.5313 Q128.9063,795.875 131.4063,795.875 Q132.1094,795.875 132.75,796.0313 Q133.4063,796.1875 133.9688,796.4844 L133.9688,799.2031 Q133.3438,798.625 132.75,798.3594 Q132.1563,798.0781 131.5313,798.0781 Q130.1875,798.0781 129.5,799.1563 Q128.8125,800.2188 128.8125,802.3125 Q128.8125,804.4063 129.5,805.4844 Q130.1875,806.5469 131.5313,806.5469 Q132.1563,806.5469 132.75,806.2813 Q133.3438,806 133.9688,805.4219 L133.9688,808.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="151.5" y="807.3467">Callback::Message_t</text><line style="stroke:#181818;stroke-width:0.5;" x1="81.75" x2="330.75" y1="818.5" y2="818.5"/><ellipse cx="91.75" cy="832.1484" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225" x="100.75" y="835.4951">mTime : Receipt::ChronotTime_t</text><ellipse cx="91.75" cy="848.4453" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="100.75" y="851.792">mResult : std::string</text><line style="stroke:#181818;stroke-width:0.5;" x1="81.75" x2="330.75" y1="859.0938" y2="859.0938"/></g><!--MD5=[644b5eb9c16c6c1d603327159cdb92d3]
class scoped_logger--><g id="elem_scoped_logger"><rect codeLine="103" fill="#F1F1F1" height="113.1875" id="scoped_logger" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="607" x="1028.75" y="110.5"/><ellipse cx="1276.5" cy="126.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1279.4688,132.1406 Q1278.8906,132.4375 1278.25,132.5781 Q1277.6094,132.7344 1276.9063,132.7344 Q1274.4063,132.7344 1273.0781,131.0938 Q1271.7656,129.4375 1271.7656,126.3125 Q1271.7656,123.1875 1273.0781,121.5313 Q1274.4063,119.875 1276.9063,119.875 Q1277.6094,119.875 1278.25,120.0313 Q1278.9063,120.1875 1279.4688,120.4844 L1279.4688,123.2031 Q1278.8438,122.625 1278.25,122.3594 Q1277.6563,122.0781 1277.0313,122.0781 Q1275.6875,122.0781 1275,123.1563 Q1274.3125,124.2188 1274.3125,126.3125 Q1274.3125,128.4063 1275,129.4844 Q1275.6875,130.5469 1277.0313,130.5469 Q1277.6563,130.5469 1278.25,130.2813 Q1278.8438,130 1279.4688,129.4219 L1279.4688,132.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1297" y="131.3467">scoped_logger</text><line style="stroke:#181818;stroke-width:0.5;" x1="1029.75" x2="1634.75" y1="142.5" y2="142.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1036.75" y="153.1484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="1048.75" y="159.4951">_ss : std::stringstream</text><line style="stroke:#181818;stroke-width:0.5;" x1="1029.75" x2="1634.75" y1="166.7969" y2="166.7969"/><ellipse cx="1039.75" cy="180.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="581" x="1048.75" y="183.792">scoped_logger(const std::string&amp; className, const char* funcName, unsigned line)</text><ellipse cx="1039.75" cy="196.7422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="1048.75" y="200.0889">~scoped_logger()</text><ellipse cx="1039.75" cy="213.0391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="1048.75" y="216.3857">stream() : std::stringstream&amp;</text></g><!--MD5=[32da3ac056e6283a39113d8a5f9348d9]
reverse link Agent to Callback--><g id="link_Agent_Callback"><path codeLine="136" d="M538.772,461.659 C505.804,484.062 469.94,508.432 436.931,530.863 " fill="none" id="Agent-backto-Callback" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="549.834,454.143,542.6232,454.207,539.9088,460.8877,547.1196,460.8237,549.834,454.143" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[c219f1a9f268aba54ac5331fce831460]
reverse link Agent to Server--><g id="link_Agent_Server"><path codeLine="139" d="M768.641,461.86 C792.595,478.843 818.131,496.948 842.855,514.476 " fill="none" id="Agent-backto-Server" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="757.756,454.143,760.3364,460.8766,767.5445,461.0845,764.9641,454.3509,757.756,454.143" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[356a865d77bc218c909dc69c68206026]
reverse link Cmder.Testing.AgentTest to Agent--><g id="link_Cmder.Testing.AgentTest_Agent"><path codeLine="142" d="M656,261.15 C656,276.77 656,292.76 656,307.75 " fill="none" id="Cmder.Testing.AgentTest-backto-Agent" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="656,248.15,652,254.15,656,260.15,660,254.15,656,248.15" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="646.5547" y="268.1147">2</text></g><!--MD5=[b7ed66f30699f3d749314a60335d18bb]
reverse link Cmder.Testing.AgentTest to Callback--><g id="link_Cmder.Testing.AgentTest_Callback"><path codeLine="145" d="M481.926,213.44 C433.305,234.46 385.274,264.73 354,308 C307.548,372.268 303.465,465.028 308.077,530.955 " fill="none" id="Cmder.Testing.AgentTest-backto-Callback" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="493.956,208.43,486.8789,207.0461,482.8795,213.0465,489.9566,214.4304,493.956,208.43" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[b4aa6707c61cd086978c556deff35285]
reverse link Cmder.Testing.AgentTest to Server--><g id="link_Cmder.Testing.AgentTest_Server"><path codeLine="148" d="M773.388,254.95 C799.777,270.95 828.451,285.8 857,296 C878.076,303.53 941.55,291.81 957,308 C1008.15,361.615 1009.79,447.646 1000.845,514.363 " fill="none" id="Cmder.Testing.AgentTest-backto-Server" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="762.225,248.03,765.2158,254.5916,772.423,254.3546,769.4322,247.793,762.225,248.03" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[8672172a630260964f6faa239709a3cf]
reverse link Callback::Message_t to Receipt--><g id="link_Callback::Message_t_Receipt"><path codeLine="151" d="M206,880.681 C206,899.451 206,921.505 206,943.855 " fill="none" id="Callback::Message_t-backto-Receipt" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="206,867.636,202,873.636,206,879.636,210,873.636,206,867.636" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[384cfc22ab2b5b05a558b115b614e498]
reverse link Agent to Agent::Task--><g id="link_Agent_Agent::Task"><path codeLine="160" d="M675.774,469.084 C683.045,501.102 691.006,536.16 697.196,563.421 " fill="none" id="Agent-backto-Agent::Task" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="674.1535" cy="461.9444" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="675.925" x2="672.382" y1="469.7458" y2="454.143"/><line style="stroke:#181818;stroke-width:1.0;" x1="666.3521" x2="681.9549" y1="463.7159" y2="460.1729"/></g><!--MD5=[59543f07a28b41313b01d526ae5b31f0]
reverse link Callback to Callback::Message_t--><g id="link_Callback_Callback::Message_t"><path codeLine="163" d="M269.227,706.819 C254.394,734.78 238.933,763.923 227.013,786.392 " fill="none" id="Callback-backto-Callback::Message_t" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="272.6918" cy="700.2901" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="268.9427" x2="276.441" y1="707.3572" y2="693.223"/><line style="stroke:#181818;stroke-width:1.0;" x1="265.6247" x2="279.7589" y1="696.5409" y2="704.0393"/></g><!--MD5=[b786da24d691ca71eb7a2d6158d415f7]
reverse link Callback to Callback::Type--><g id="link_Callback_Callback::Type"><path codeLine="166" d="M369.213,706.819 C384.178,734.78 399.776,763.923 411.801,786.392 " fill="none" id="Callback-backto-Callback::Type" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="365.7113" cy="700.2761" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="369.4867" x2="361.936" y1="707.3293" y2="693.223"/><line style="stroke:#181818;stroke-width:1.0;" x1="358.6582" x2="372.7645" y1="704.0515" y2="696.5008"/></g><!--MD5=[337e37ce856fbf4a62df92e975117e08]
reverse link Receipt to Receipt::Mode--><g id="link_Receipt_Receipt::Mode"><path codeLine="169" d="M152.122,1218.465 C145.833,1235.212 139.876,1251.0747 134.839,1264.4869 " fill="none" id="Receipt-backto-Receipt::Mode" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="154.6582" cy="1211.7122" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="151.8453" x2="157.471" y1="1219.2014" y2="1204.223"/><line style="stroke:#181818;stroke-width:1.0;" x1="147.169" x2="162.1474" y1="1208.8994" y2="1214.525"/></g><!--MD5=[ff8f68cd9860b13c4e769e1081d0a27c]
reverse link Receipt to Receipt::Status--><g id="link_Receipt_Receipt::Status"><path codeLine="172" d="M259.878,1218.465 C266.167,1235.212 272.124,1251.0747 277.161,1264.4869 " fill="none" id="Receipt-backto-Receipt::Status" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="257.3418" cy="1211.7122" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="260.1547" x2="254.529" y1="1219.2014" y2="1204.223"/><line style="stroke:#181818;stroke-width:1.0;" x1="249.8526" x2="264.831" y1="1214.525" y2="1208.8994"/></g><!--MD5=[9ace9c1ccb22c4f34614b3bc72ca349a]
reverse link Server to Server::Status--><g id="link_Server_Server::Status"><path codeLine="175" d="M979,724.688 C979,740.499 979,756.156 979,770.263 " fill="none" id="Server-backto-Server::Status" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="979" cy="717.529" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="979" x2="979" y1="725.529" y2="709.529"/><line style="stroke:#181818;stroke-width:1.0;" x1="971" x2="987" y1="717.529" y2="717.529"/></g><!--MD5=[f25c8a41709399d000c61ffde53444cf]
@startuml





/' Objects '/

class Agent {
    -Agent(const Server& server, Callback::SharedPtr callback)
    +~Agent()
    -mCallback : Callback::SharedPtr
    +doTask(Receipt::Mode mode, Task task, std::string& result) : Receipt {query}
    +{static} create(const Server& server, Callback::SharedPtr callback) : SharedPtr
    -mServer : const Server&
}


class Callback {
    +Callback()
    +~Callback()
    +operator<<(std::ostream& ostr, const Callback::SharedPtr& cb) : std :: ostream&
    -mMessages : std::map<Key_t, Message_t>
    +getFirst(const Receipt& receipt, Type type) : std::optional<Message_t>
    +clear() : void
    +notify(TaskId taskId, Type type, const std::string& message) : void
}


class Receipt {
    +Receipt(Mode mode)
    +getEndTime() : ChronotTime_t& {query}
    +getStartTime() : ChronotTime_t& {query}
    -mMode : Mode
    -mStatus : Status
    +getTaskId() : TaskId {query}
    +getExecutionMode() : int {query}
    +getStatus() : int {query}
    -mEndTime : time_point<std::chrono::system_clock>
    -mStartTime : time_point<std::chrono::system_clock>
    -mTaskId : uint32_t
    +setEndTime() : void
    +setStatus(Status status) : void
}


class Server {
    +Server()
    +~Server()
    -mStatus : Status
    -mConditionVariable : std::condition_variable
    -mMutex : std::mutex
    -mThreadPtr : std::unique_ptr<std::thread>
    -run() : void
    +start() : void
    +stop() : void
}


class ServerTest {
    #SetUp() : void
}


enum Agent::Task {
    BlockMe_3s
    Pi
    PingMe_5x
}


enum Callback::Type {
    NOTIFICATION
    RESULT
}


enum Receipt::Mode {
    Async
    Blocking
}


enum Receipt::Status {
    FAIL
    OK
}


enum Server::Status {
    Init
    Run
    Start
    Stop
}


class Callback::Message_t {
    +mTime : Receipt::ChronotTime_t
    +mResult : std::string
}


class scoped_logger {
    +scoped_logger(const std::string& className, const char* funcName, unsigned line)
    +~scoped_logger()
    -_ss : std::stringstream
    +stream() : std::stringstream&
}


namespace Cmder {
    namespace Testing {
        class AgentTest {
            #{static} sAsyncAgent : static Agent::SharedPtr
            #{static} sNoCallbackAgent : static Agent::SharedPtr
            #{static} sCallback : static Callback::SharedPtr
            #{static} sServer : static Server
            #SetUp() : void
            #{static} SetUpTestSuite() : void
            #{static} TearDownTestSuite() : void
        }
    }
}





/' Inheritance relationships '/




/' Aggregation relationships '/

.Agent *- - .Callback


.Agent *- - .Server


Cmder.Testing.AgentTest "2" *- - .Agent


Cmder.Testing.AgentTest *- - .Callback


Cmder.Testing.AgentTest *- - .Server


.Callback::Message_t *- - .Receipt






/' Nested objects '/

.Agent +- - .Agent::Task


.Callback +- - .Callback::Message_t


.Callback +- - .Callback::Type


.Receipt +- - .Receipt::Mode


.Receipt +- - .Receipt::Status


.Server +- - .Server::Status




@enduml

@startuml






class Agent {
    -Agent(const Server& server, Callback::SharedPtr callback)
    +~Agent()
    -mCallback : Callback::SharedPtr
    +doTask(Receipt::Mode mode, Task task, std::string& result) : Receipt {query}
    +{static} create(const Server& server, Callback::SharedPtr callback) : SharedPtr
    -mServer : const Server&
}


class Callback {
    +Callback()
    +~Callback()
    +operator<<(std::ostream& ostr, const Callback::SharedPtr& cb) : std :: ostream&
    -mMessages : std::map<Key_t, Message_t>
    +getFirst(const Receipt& receipt, Type type) : std::optional<Message_t>
    +clear() : void
    +notify(TaskId taskId, Type type, const std::string& message) : void
}


class Receipt {
    +Receipt(Mode mode)
    +getEndTime() : ChronotTime_t& {query}
    +getStartTime() : ChronotTime_t& {query}
    -mMode : Mode
    -mStatus : Status
    +getTaskId() : TaskId {query}
    +getExecutionMode() : int {query}
    +getStatus() : int {query}
    -mEndTime : time_point<std::chrono::system_clock>
    -mStartTime : time_point<std::chrono::system_clock>
    -mTaskId : uint32_t
    +setEndTime() : void
    +setStatus(Status status) : void
}


class Server {
    +Server()
    +~Server()
    -mStatus : Status
    -mConditionVariable : std::condition_variable
    -mMutex : std::mutex
    -mThreadPtr : std::unique_ptr<std::thread>
    -run() : void
    +start() : void
    +stop() : void
}


class ServerTest {
    #SetUp() : void
}


enum Agent::Task {
    BlockMe_3s
    Pi
    PingMe_5x
}


enum Callback::Type {
    NOTIFICATION
    RESULT
}


enum Receipt::Mode {
    Async
    Blocking
}


enum Receipt::Status {
    FAIL
    OK
}


enum Server::Status {
    Init
    Run
    Start
    Stop
}


class Callback::Message_t {
    +mTime : Receipt::ChronotTime_t
    +mResult : std::string
}


class scoped_logger {
    +scoped_logger(const std::string& className, const char* funcName, unsigned line)
    +~scoped_logger()
    -_ss : std::stringstream
    +stream() : std::stringstream&
}


namespace Cmder {
    namespace Testing {
        class AgentTest {
            #{static} sAsyncAgent : static Agent::SharedPtr
            #{static} sNoCallbackAgent : static Agent::SharedPtr
            #{static} sCallback : static Callback::SharedPtr
            #{static} sServer : static Server
            #SetUp() : void
            #{static} SetUpTestSuite() : void
            #{static} TearDownTestSuite() : void
        }
    }
}










.Agent *- - .Callback


.Agent *- - .Server


Cmder.Testing.AgentTest "2" *- - .Agent


Cmder.Testing.AgentTest *- - .Callback


Cmder.Testing.AgentTest *- - .Server


.Callback::Message_t *- - .Receipt







.Agent +- - .Agent::Task


.Callback +- - .Callback::Message_t


.Callback +- - .Callback::Type


.Receipt +- - .Receipt::Mode


.Receipt +- - .Receipt::Status


.Server +- - .Server::Status




@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(EPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>